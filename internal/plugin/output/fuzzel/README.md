# Fuzzel Output Plugin

Generate color themes for [Fuzzel](https://codeberg.org/dnkl/fuzzel), a lightweight application launcher for Wayland.

## Overview

The Fuzzel plugin generates a theme configuration file (`tinct.ini`) that can be included in your main Fuzzel configuration or used standalone.

## Features

- Single INI file generation
- RGBA color format with transparency support
- Semantic color mapping (background, foreground, accents, etc.)
- Include-based configuration support
- Automatic config directory creation

## Generated Files

- `tinct.ini` - Complete Fuzzel color theme

## Default Output Location

```
~/.config/fuzzel/tinct.ini
```

## Configuration

### Enable the Plugin

In your `~/.config/tinct/config.toml`:

```toml
[[output.fuzzel]]
enabled = true
```

### Custom Output Directory

```toml
[[output.fuzzel]]
enabled = true
output_dir = "/custom/path"
```

### Command Line Options

```bash
# Specify output directory
tinct generate --fuzzel.output-dir ~/.config/fuzzel

# Enable fuzzel only
tinct generate --output fuzzel
```

## Usage

### Method 1: Include in Main Config

Create or edit `~/.config/fuzzel/fuzzel.ini`:

```ini
# Include tinct theme
include=~/.config/fuzzel/tinct.ini

# Your other fuzzel settings
[main]
font=monospace:size=12
lines=15
width=30
```

### Method 2: Standalone Config

Use the generated theme as a complete config:

```bash
fuzzel --config ~/.config/fuzzel/tinct.ini
```

### Method 3: Merge Configs

You can have multiple include files:

```ini
# Base settings
include=/etc/xdg/fuzzel/fuzzel.ini

# Tinct colors
include=~/.config/fuzzel/tinct.ini

# Personal overrides
[main]
lines=20
```

## Color Mapping

The plugin maps Tinct's semantic colors to Fuzzel's color scheme:

| Fuzzel Property | Tinct Role | Description |
|----------------|------------|-------------|
| `background` | Background (93% opacity) | Main background color |
| `text` | Foreground | Unselected entry text |
| `prompt` | Accent1 | Prompt character color |
| `placeholder` | ForegroundMuted (80% opacity) | Placeholder text |
| `input` | Foreground | Input text color |
| `match` | Accent2 | Matched substring color |
| `selection` | Accent1 | Selected entry background |
| `selection-text` | Background | Selected entry text |
| `selection-match` | Accent2 | Selected entry matched substring |
| `counter` | Info | Match counter color |
| `border` | Accent1 | Window border color |

## Color Format

Fuzzel uses RGBA colors in the format `RRGGBBAA` (8 hex digits, no `#` prefix):

- `1a1b26ee` - Background with 93% opacity
- `c0caf5ff` - Foreground with 100% opacity
- `7aa2f7ff` - Accent1 with 100% opacity

## Example Output

```ini
# Fuzzel colour theme generated by Tinct
# https://github.com/jmylchreest/tinct

[colors]
# Background color (with 93% opacity)
background=1a1b26ee

# Text (foreground) color of unselected entries
text=c0caf5ff

# Prompt character(s) color
prompt=7aa2f7ff

# Placeholder text color
placeholder=a9b1d6cc

# Input text color
input=c0caf5ff

# Matched substring color
match=bb9af7ff

# Selected entry background
selection=7aa2f7ff

# Selected entry text
selection-text=1a1b26ff

# Selected entry matched substring
selection-match=bb9af7ff

# Match counter color
counter=7aa2f7ff

# Border color
border=7aa2f7ff
```

## Customization

### Custom Templates

Extract the default template for customization:

```bash
tinct plugins templates dump -o fuzzel -l ~/.config/tinct/templates/fuzzel
```

This creates `~/.config/tinct/templates/fuzzel/tinct.ini.tmpl` which you can modify.

### Template Variables

Available in the template:

```go
{{ .SourceTheme }}        // "dark" or "light"
{{ .Background }}         // "#1a1b26"
{{ .BackgroundMuted }}    // "#16161e"
{{ .Foreground }}         // "#c0caf5"
{{ .ForegroundMuted }}    // "#a9b1d6"
{{ .Accent1 }}            // "#7aa2f7"
{{ .Accent2 }}            // "#bb9af7"
{{ .Accent3 }}            // "#7dcfff"
{{ .Accent4 }}            // "#9ece6a"
{{ .Danger }}             // "#f7768e"
{{ .Warning }}            // "#e0af68"
{{ .Success }}            // "#9ece6a"
{{ .Info }}               // "#7aa2f7"
```

### RGBA Helper Methods

Convert colors to RGBA format with custom alpha:

```go
{{ .BackgroundRGBA "ee" }}      // Background with 93% opacity
{{ .ForegroundRGBA "ff" }}      // Foreground with 100% opacity
{{ .Accent1RGBA "80" }}         // Accent1 with 50% opacity
```

## Integration with Desktop Environment

### Hyprland

Add to `~/.config/hypr/hyprland.conf`:

```conf
# Launch fuzzel with keybind
bind = $mainMod, D, exec, fuzzel
```

### Sway

Add to `~/.config/sway/config`:

```
# Launch fuzzel
bindsym $mod+d exec fuzzel
```

## Pre-Execute Check

The plugin performs the following checks before generating:

1. Verifies `fuzzel` is installed and on `$PATH`
2. Creates config directory if it doesn't exist

If `fuzzel` is not found, the plugin will be skipped with a message.

## Troubleshooting

### Colors Not Applied

Ensure the include path is correct:

```bash
# Check if file exists
ls -l ~/.config/fuzzel/tinct.ini

# Verify fuzzel can find it
fuzzel --config ~/.config/fuzzel/fuzzel.ini
```

### Fuzzel Not Found

If pre-execute check fails:

```bash
# Check if fuzzel is installed
which fuzzel

# Install fuzzel
# Arch: pacman -S fuzzel
# Debian: apt install fuzzel
# Fedora: dnf install fuzzel
```

### Include Not Working

Fuzzel's `include` directive requires absolute paths or `~/` prefix:

```ini
# Correct
include=~/.config/fuzzel/tinct.ini
include=/home/username/.config/fuzzel/tinct.ini

# Incorrect
include=tinct.ini
include=./tinct.ini
```

## Resources

- [Fuzzel Documentation](https://codeberg.org/dnkl/fuzzel)
- [Fuzzel.ini Man Page](https://man.archlinux.org/man/fuzzel.ini.5)
- [Fuzzel Configuration Examples](https://codeberg.org/dnkl/fuzzel/src/branch/master/doc)

## See Also

- [Rofi Plugin](../rofi/README.md) - Alternative application launcher (Coming Soon)
- [Wofi Plugin](../wofi/README.md) - Another Wayland launcher
- [Plugin Development Guide](../../../../docs/PLUGIN-STANDARD.md)